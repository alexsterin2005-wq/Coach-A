</style>
<style>
	.admin-container { max-width: 600px; margin: 2rem auto; background: #fff; border-radius: 18px; box-shadow: 0 4px 24px rgba(0,0,0,0.08); padding: 2.5rem 2rem; }
	.admin-title { font-size: 2rem; color: #2563eb; margin-bottom: 1.2rem; text-align: center; }
	.admin-section { margin-bottom: 2rem; }
	.admin-table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
	.admin-table th, .admin-table td { border: 1px solid #e5e7eb; padding: 0.5rem; text-align: center; }
	.admin-table th { background: #f3f4f6; }
	.admin-analytics { font-size: 1.1rem; color: #2563eb; font-weight: 600; }
	.calendar-times-admin { display: grid; grid-template-columns: repeat(3,1fr); gap: 0.5rem 1rem; margin-bottom: 1rem; }
	.calendar-times-admin .booked { background: #2563eb; color: #fff; border-radius: 8px; padding: 0.5rem 0; font-weight: 600; }
	.calendar-times-admin .empty { background: #e5e7eb; color: #888; border-radius: 8px; padding: 0.5rem 0; }
</style>
	<!-- Coach Login Button -->
	<div style="text-align:center;margin-top:1.5rem;">
		<div style="position:fixed;top:18px;right:24px;z-index:10;">
			<button id="coachLoginBtn" style="background:#374151;color:#fff;padding:0.4rem 1.1rem;font-size:0.95rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;">Coach Login</button>
		</div>
	</div>
	<!-- Admin Login Modal -->
	<div id="adminLoginModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);align-items:center;justify-content:center;z-index:1000;">
		<div style="background:#fff;padding:2rem 2.5rem;border-radius:16px;box-shadow:0 4px 24px rgba(0,0,0,0.12);max-width:320px;width:90vw;text-align:center;">
			<h2 style="color:#2563eb;margin-bottom:1rem;">Coach Login</h2>
			<input type="password" id="adminPassword" placeholder="Password" style="width:100%;padding:0.7rem 1rem;border-radius:8px;border:1.5px solid #e5e7eb;font-size:1rem;margin-bottom:1rem;">
			<div id="adminLoginError" style="color:#dc2626;font-size:1rem;margin-bottom:1rem;"></div>
			<button id="adminLoginSubmit" style="background:#2563eb;color:#fff;padding:0.7rem 2rem;border-radius:12px;font-weight:700;border:none;cursor:pointer;">Login</button>
		</div>
	</div>
	<!-- Admin Page -->
	<div id="adminPage" style="display:none;">
		<div class="admin-container">
			<div class="admin-title">Coach Dashboard</div>
			<div class="admin-section">
				<div class="admin-analytics" id="adminRevenue"></div>
				<div class="admin-analytics" id="adminLessonCount"></div>
			</div>
			<div class="admin-section">
				<h3 style="color:#374151;font-size:1.2rem;margin-bottom:0.5rem;">All Lessons</h3>
				<table class="admin-table" id="adminLessonsTable">
					<thead><tr><th>Date</th><th>Time</th><th>Duration</th><th>Name</th><th>Email</th><th>Notes</th><th>Price</th></tr></thead>
					<tbody></tbody>
				</table>
			</div>
			<div class="admin-section">
				<h3 style="color:#374151;font-size:1.2rem;margin-bottom:0.5rem;">Weekly Calendar</h3>
				<div style="margin-bottom:1rem;display:flex;gap:1rem;">
					<button id="exportICS" style="background:#059669;color:#fff;padding:0.4rem 1.1rem;font-size:0.95rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;">Export to Google Calendar</button>
					<button id="exportPDF" style="background:#2563eb;color:#fff;padding:0.4rem 1.1rem;font-size:0.95rem;border-radius:8px;font-weight:600;border:none;cursor:pointer;">Download PDF</button>
				</div>
				<div class="calendar-week-admin" id="adminCalendar"></div>
			</div>
					// Export weekly calendar as .ics (Google Calendar)
					document.getElementById('exportICS').onclick = function() {
						const bookings = getBookings();
						const now = new Date();
						const weekStart = new Date(now);
						weekStart.setDate(now.getDate() - now.getDay());
						let ics = 'BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//CoachA//Booking//EN';
						bookings.forEach(b => {
							const date = new Date(b.date + 'T' + (b.time.split(' ')[1]==='PM' && b.time.split(':')[0]!=='12'? (parseInt(b.time.split(':')[0])+12):b.time.split(':')[0]).toString().padStart(2,'0') + ':00:00');
							if (date >= weekStart && date < new Date(weekStart.getTime()+7*86400000)) {
								const dtStart = date.toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
								const dtEnd = new Date(date.getTime()+parseInt(b.duration)*60000).toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
								ics += `\nBEGIN:VEVENT\nSUMMARY:Tennis Lesson (${b.name})\nDTSTART:${dtStart}\nDTEND:${dtEnd}\nDESCRIPTION:Lesson with ${b.name} (${b.email})\nEND:VEVENT`;
							}
						});
						ics += '\nEND:VCALENDAR';
						const blob = new Blob([ics.replace(/\n/g,'\r\n')], {type:'text/calendar'});
						const a = document.createElement('a');
						a.href = URL.createObjectURL(blob);
						a.download = 'coachA-week.ics';
						a.click();
					};
					// Export weekly calendar as PDF
					document.getElementById('exportPDF').onclick = function() {
						const bookings = getBookings();
						const now = new Date();
						const weekStart = new Date(now);
						weekStart.setDate(now.getDate() - now.getDay());
						let text = 'Coach A Weekly Calendar\n\n';
						for(let d=0; d<7; d++) {
							const day = new Date(weekStart);
							day.setDate(weekStart.getDate()+d);
							const dateStr = day.toISOString().split('T')[0];
							text += day.toLocaleDateString('en-US', {weekday:'long', month:'short', day:'numeric'}) + ':\n';
							for(let h=8; h<=20; h++) {
								let hour = h > 12 ? h-12 : h;
								let ampm = h >= 12 ? 'PM' : 'AM';
								let label = `${hour}:00 ${ampm}`;
								let lesson = bookings.find(b => b.date === dateStr && b.time === label);
								if (lesson) {
									text += `  ${label} - ${lesson.name} (${lesson.email})\n`;
								}
							}
							text += '\n';
						}
						// Use browser print as PDF (simple, cross-platform)
						const win = window.open('', '', 'width=700,height=900');
						win.document.write(`<pre style='font-size:1.1rem;font-family:monospace;padding:2rem;'>${text}</pre>`);
						win.document.close();
						win.print();
					};
			<div style="text-align:center;">
				<button onclick="document.getElementById('adminPage').style.display='none';document.getElementById('landing').style.display='flex';">Logout</button>
			</div>
		</div>
	</div>
	<script>
		// Coach Login Modal logic
		document.getElementById('coachLoginBtn').onclick = function() {
			document.getElementById('adminLoginModal').style.display = 'flex';
		};
		document.getElementById('adminLoginSubmit').onclick = function() {
			const pw = document.getElementById('adminPassword').value;
			if (pw === '123') {
				document.getElementById('adminLoginModal').style.display = 'none';
				document.getElementById('landing').style.display = 'none';
				document.getElementById('booking').style.display = 'none';
				document.getElementById('adminPage').style.display = 'block';
				renderAdmin();
				document.getElementById('adminPassword').value = '';
				document.getElementById('adminLoginError').textContent = '';
			} else {
				document.getElementById('adminLoginError').textContent = 'Incorrect password.';
			}
		};
		// Close modal on outside click
		document.getElementById('adminLoginModal').onclick = function(e) {
			if (e.target === this) this.style.display = 'none';
		};

		// Admin dashboard rendering
		function renderAdmin() {
			const bookings = getBookings();
			// Revenue and analytics
			let revenue = 0;
			bookings.forEach(b => {
				const base = 65 * (parseInt(b.duration)/60);
				const fee = base * 0.025;
				revenue += base + fee;
			});
			document.getElementById('adminRevenue').textContent = `Total Revenue: $${revenue.toFixed(2)}`;
			document.getElementById('adminLessonCount').textContent = `Total Lessons: ${bookings.length}`;
			// Lessons table
			const tbody = document.getElementById('adminLessonsTable').querySelector('tbody');
			tbody.innerHTML = '';
			bookings.forEach(b => {
				const tr = document.createElement('tr');
				tr.innerHTML = `<td>${b.date}</td><td>${b.time}</td><td>${b.duration} min</td><td>${b.name}</td><td>${b.email}</td><td>${b.notes||''}</td><td>$${(65*(parseInt(b.duration)/60)+65*(parseInt(b.duration)/60)*0.025).toFixed(2)}</td>`;
				tbody.appendChild(tr);
			});
			// Today's calendar
			const calendar = document.getElementById('adminCalendar');
			calendar.innerHTML = '';
			const today = new Date().toISOString().split('T')[0];
			for(let h=8; h<=20; h++) {
				let hour = h > 12 ? h-12 : h;
				let ampm = h >= 12 ? 'PM' : 'AM';
				let label = `${hour}:00 ${ampm}`;
				let lesson = bookings.find(b => b.date === today && b.time === label);
				let div = document.createElement('div');
				if (lesson) {
					div.className = 'booked';
					div.textContent = label + ' - ' + lesson.name;
				} else {
					div.className = 'empty';
					div.textContent = label;
				}
				calendar.appendChild(div);
			}
		}
	</script>
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Book a Lesson with Coach A</title>
	<style>
		body {
			font-family: 'Segoe UI', Arial, sans-serif;
			background: #f3f4f6;
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.container {
			background: #fff;
			border-radius: 18px;
			box-shadow: 0 4px 24px rgba(0,0,0,0.08);
			padding: 2.5rem 2rem;
			max-width: 400px;
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		h1 {
			font-size: 2rem;
			color: #2563eb;
			margin-bottom: 1.2rem;
			text-align: center;
		}
		label {
			font-weight: 600;
			color: #374151;
			margin-bottom: 0.3rem;
			display: block;
		}
		input, select, textarea {
			width: 100%;
			padding: 0.7rem 1rem;
			border-radius: 8px;
			border: 1.5px solid #e5e7eb;
			font-size: 1rem;
			background: #f8fafc;
			margin-bottom: 1rem;
		}
		input:focus, select:focus, textarea:focus {
			border-color: #2563eb;
			outline: none;
		}
		button {
			background: #2563eb;
			color: #fff;
			font-weight: 700;
			font-size: 1.1rem;
			border: none;
			border-radius: 12px;
			padding: 0.8rem 2rem;
			cursor: pointer;
			margin-top: 0.5rem;
			transition: background 0.2s, transform 0.2s;
		}
		button:hover {
			background: #1e40af;
			transform: translateY(-2px);
		}
		.confirmation {
			color: #059669;
			font-weight: 600;
			text-align: center;
			margin-top: 1rem;
		}
	</style>
</head>
<body>
	<div class="container" id="landing">
		<div class="coach-photo">
			<img src="https://i.imgur.com/4unb6ao.jpg" alt="Coach A">
		</div>
		<h1>Coach A</h1>
		<div class="bio" style="margin-bottom:1.5rem;">
			Division 1 tennis player at Dayton. Over 15 years of coaching experience helping players of all levels improve their game.
		</div>
		<button class="book-btn" id="bookNowBtn" style="background:#2563eb;">Book Now</button>
	</div>
	<div class="container" id="booking" style="display:none;max-width:480px;">
		<h1>Schedule Your Lesson</h1>
		<form id="bookingForm">
			<label for="name">Your Name</label>
			<input type="text" id="name" name="name" required>
			<label for="email">Email</label>
			<input type="email" id="email" name="email" required>
			<label for="date">Select a Date</label>
			<input type="date" id="date" name="date" required>
			<label for="time">Select a Time</label>
			<div id="calendar-times" class="calendar-times" style="display:grid;grid-template-columns:repeat(3,1fr);gap:0.5rem 1rem;margin-bottom:1rem;"></div>
			<input type="hidden" id="time" name="time" required>
			<label for="duration">Lesson Length</label>
			<select id="duration" name="duration" required>
				<option value="60">1 hour</option>
				<option value="90">1.5 hours</option>
			</select>
			<div id="priceDisplay" style="margin:0.5rem 0 1rem 0;font-weight:600;color:#2563eb;"></div>
			<button type="submit" class="submit-btn">Complete Booking</button>
			<div id="confirmation" class="confirmation"></div>
		</form>
	</div>
	<script>
		// Show booking form on button click
		document.getElementById('bookNowBtn').onclick = function() {
			document.getElementById('landing').style.display = 'none';
			document.getElementById('booking').style.display = 'flex';
		};

		// Helper: get bookings from localStorage
		function getBookings() {
			return JSON.parse(localStorage.getItem('coachABookings') || '[]');
		}
		function saveBooking(booking) {
			const bookings = getBookings();
			bookings.push(booking);
			localStorage.setItem('coachABookings', JSON.stringify(bookings));
		}

		// Populate time options 8am-8pm, disabling booked slots
		function populateTimes(dateStr) {
			const calendar = document.getElementById('calendar-times');
			calendar.innerHTML = '';
			const bookings = getBookings().filter(b => b.date === dateStr);
			for(let h=8; h<=20; h++) {
				let hour = h > 12 ? h-12 : h;
				let ampm = h >= 12 ? 'PM' : 'AM';
				let label = `${hour}:00 ${ampm}`;
				let isBooked = bookings.some(b => b.time === label);
				let btn = document.createElement('button');
				btn.type = 'button';
				btn.textContent = label + (isBooked ? ' (Booked)' : '');
				btn.disabled = isBooked;
				btn.style.background = isBooked ? '#e5e7eb' : '#2563eb';
				btn.style.color = isBooked ? '#888' : '#fff';
				btn.style.border = 'none';
				btn.style.borderRadius = '8px';
				btn.style.padding = '0.6rem 0.2rem';
				btn.style.fontWeight = '600';
				btn.style.cursor = isBooked ? 'not-allowed' : 'pointer';
				btn.onclick = function() {
					document.getElementById('time').value = label;
					// Highlight selected
					Array.from(calendar.children).forEach(b=>b.style.outline='none');
					btn.style.outline = '3px solid #10b981';
				};
				calendar.appendChild(btn);
			}
			// Clear selection if all are booked
			document.getElementById('time').value = '';
		}

		// Price calculation
		function updatePrice() {
			const duration = document.getElementById('duration').value;
			const base = 65 * (parseInt(duration)/60);
			const fee = base * 0.025;
			const total = base + fee;
			document.getElementById('priceDisplay').textContent = `Total: $${total.toFixed(2)} ($${base.toFixed(2)} + $${fee.toFixed(2)} booking fee)`;
		}
		document.getElementById('duration').onchange = updatePrice;

		// (Weather display removed)

		document.getElementById('date').onchange = function() {
			document.getElementById('confirmation').textContent = '';
			const dateStr = this.value;
			populateTimes(dateStr);
		};

		// Initial population
		const today = new Date().toISOString().split('T')[0];
		document.getElementById('date').setAttribute('min', today);
		populateTimes(today);
		updatePrice();

		// Booking form submit
		document.getElementById('bookingForm').addEventListener('submit', function(e) {
			e.preventDefault();
			const name = document.getElementById('name').value;
			const email = document.getElementById('email').value;
			const date = document.getElementById('date').value;
			const time = document.getElementById('time').value;
			const duration = document.getElementById('duration').value;
			const notes = document.getElementById('notes').value;
			saveBooking({ name, email, date, time, duration, notes });
			document.getElementById('confirmation').textContent = 'âœ… Your lesson is booked! Coach A will contact you soon.';
			// Email confirmation (demo only)
			setTimeout(()=>{
				alert('Confirmation email sent to ' + email);
			}, 500);
			document.getElementById('bookingForm').reset();
			populateTimes(date);
			updatePrice();
		});
		// Responsive/mobile tweaks (simple)
		window.addEventListener('resize', function() {
			document.querySelectorAll('.container').forEach(c => {
				c.style.maxWidth = window.innerWidth < 500 ? '98vw' : '400px';
			});
		});
		window.dispatchEvent(new Event('resize'));
	</script>
	</script>
</body>
</html>
